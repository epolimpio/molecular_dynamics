FC = gfortran
FFLAGS = -Wall -Wextra -march=native -03
LDFLAGS = 
LIBS = -llapack

COMPILE = $(FC) $(FFLAGS)
LINK = $(FC) $(LDFLAGS)

OBJS = 
OBJS += mymod.o
OBJS += extra.o
OBJS += main.o

all: main

main: $(OBJS)
	$(LINK) -o $@ $^ $(LIBS)

%.o: %.f90
	$(COMPILE) -o $@ -c $<

.PHONY: clean
clean:
	$(RM) main $(OBJS) *.mod